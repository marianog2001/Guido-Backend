<div class="mb-5">
    <p class="text-3xl font-semibold">Bienvenido {{user.user.first_name}}!!</p>
    <p>Email asociado: {{user.user.email}}</p>
</div>

<div class="my-5 space-x-4">

    <span class="ml-5 mr-3 text-xl">Categories:</span>

    <a href="/api/products/?cat=classic_guitar"
        class="inline-block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow-md hover:bg-green-600 transition-colors duration-300 ease-in-out mr-2 mb-2">Classic
        Guitar</a>
    <a href="/api/products/?cat=acoustic_guitar"
        class="inline-block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow-md hover:bg-green-600 transition-colors duration-300 ease-in-out mr-2 mb-2">Acoustic
        Guitar</a>
    <a href="/api/products/?cat=electric_guitar"
        class="inline-block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow-md hover:bg-green-600 transition-colors duration-300 ease-in-out mr-2 mb-2">Electric
        Guitar</a>
    <a href="/api/products/?cat=electric_bass"
        class="inline-block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow-md hover:bg-green-600 transition-colors duration-300 ease-in-out mr-2 mb-2">Electric
        Bass</a>
</div>



<label for="searchInput" class="mr-3">Search:</label>
<input type="text" id="searchInput" class="border border-gray-300 px-3 py-1 rounded" />

<label for="sortOptionSelect" class="ml-5 mr-3">Sorting:</label>
<select name="sortOptionSelect" id="sortOptionSelect" class="border border-gray-300 px-3 py-1 rounded">
    <option value=""><i>Sorting</i></option>
    <option value="1">Ascendent</option>
    <option value="-1">Descendant</option>
</select>



<a href="#" onclick="showStock()"
    class="ml-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded">Show only
    in stock</a>
</div>


<div class="grid gap-5 grid-cols-3">
    {{#each docs}}
    <div class="border rounded-lg overflow-hidden shadow-md">
        {{#if this.thumbnail}}
        <img src="{{this.thumbnail.[0]}}" alt="{{this.title}}" class="h-64 object-contain w-full">
        {{else}}
        <img src="/default-thumbnail.png" alt="{{this.title}}" class="h-64 object-contain w-full">
        {{/if}}
        <div class="p-4">
            <h3 class="text-lg font-semibold mb-2">{{this.title}}</h3>
            <div class="flex justify-between items-center">
                <h4 class="bg-green-500 text-black font-bold py-1 px-2 rounded">${{this.price}}</h4>
                <div>
                    <a href="/api/products/{{this._id}}"
                        class="btn-info bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded">More
                        Info</a>
                    <button class="addToCart btn-add-to-cart bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded"
                        data-id="{{this._id}}">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    {{/each}}
</div>



</div>
<div>
    {{#if hasPrevPage}}
    <a class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded" href="#"
        onclick="changePageButton({{prevPage}})">prev page</a>
    {{else}}
    <a class="disabled pointer-events-none">prev page</a>
    {{/if}}

    {{#if hasNextPage}}
    <a class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded" href="#"
        onclick="changePageButton({{nextPage}})">next page</a>
    {{else}}
    <a
        class="bg-gray-400 text-gray-700 font-bold py-2 px-4 border border-gray-700 rounded disabled pointer-events-none">next
        page</a>
    {{/if}}

</div>
</div>

<script>
    function handleAddToCart(productId, cartId) { addToCart(productId, cartId) }
</script>
<script src="/js/products.js"></script>